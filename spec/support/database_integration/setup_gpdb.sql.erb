DROP DATABASE IF EXISTS gpdb_test_database;
CREATE DATABASE gpdb_test_database OWNER gpadmin;

\connect gpdb_test_database

  CREATE SCHEMA gpdb_test_schema;
    SET search_path TO 'gpdb_test_schema';

    CREATE TABLE base_table1
      (id integer, column1 integer, column2 integer)
      DISTRIBUTED BY (id);
    COMMENT ON TABLE base_table1 IS 'comment on base_table1';

    CREATE VIEW view1 AS
      SELECT * FROM base_table1;
    COMMENT ON VIEW view1 IS 'comment on view1';

    CREATE EXTERNAL WEB TABLE external_web_table1
      (name text, date date, amount float4, category text, description text)
      LOCATION ('http://intranet.company.com/expenses/sales/file.csv')
      FORMAT 'CSV'
      ( HEADER );
    COMMENT ON TABLE external_web_table1 IS '';

    CREATE TABLE master_table1
      ( id integer, some_int integer )
      DISTRIBUTED BY (id)
      PARTITION BY RANGE(some_int)
      ( START (1::integer) END (8::integer) EVERY (1::integer));
    COMMENT ON TABLE master_table1 IS 'comment on master_table1';

    CREATE UNIQUE INDEX index1 ON base_table1 ( id );

  \dtvs gpdb_test_schema.*


  CREATE SCHEMA gpdb_test_schema2;
    SET search_path TO 'gpdb_test_schema2';
    
    CREATE TABLE other_base_table
      (id integer)
      DISTRIBUTED BY (id);
    COMMENT ON TABLE other_base_table IS '';

  \dtvs gpdb_test_schema2.*